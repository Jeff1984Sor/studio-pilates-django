<!-- Arquivo: clientes/templates/clientes/lista_clientes.html -->

{% extends 'accounts/dashboard.html' %}
{% load static %}

{% block title %}Gestão de Clientes{% endblock %}

{% block content %}
<div class="header">
    <h1>Gestão de Clientes</h1>
    <div class="actions">
        <a href="#" class="btn btn-new">
            <i class="fas fa-plus"></i> Novo Cliente
        </a>
    </div>
</div>

<!-- Formulário de Busca -->
<form method="get" class="search-form">
    <input type="text" name="q" placeholder="Buscar por nome ou CPF..." value="{{ query|default_if_none:'' }}">
    <button type="submit"><i class="fas fa-search"></i></button>
</form>

<!-- Tabela de Clientes -->
<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>Nome Completo</th>
                <th>Email</th>
                <th>CPF</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for cliente in clientes %}
            <tr>
                <td>{{ cliente.usuario.nome_completo }}</td>
                <td>{{ cliente.usuario.email }}</td>
                <td>{{ cliente.cpf }}</td>
                <td class="actions-cell">
                    <a href="#" class="action-btn view" title="Visualizar"><i class="fas fa-eye"></i></a>
                    <a href="#" class="action-btn edit" title="Editar"><i class="fas fa-edit"></i></a>
                    <a href="#" class="action-btn delete" title="Excluir"><i class="fas fa-trash"></i></a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="empty-cell">
                    {% if query %}
                        Nenhum cliente encontrado para "{{ query }}".
                    {% else %}
                        Nenhum cliente cadastrado.
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Estilos específicos para esta página -->
<style>
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
    .btn { padding: 0.6rem 1rem; text-decoration: none; border-radius: 5px; color: white; display: inline-flex; align-items: center; gap: 0.5rem; }
    .btn-new { background-color: #28a745; }
    .search-form { display: flex; margin-bottom: 1.5rem; }
    .search-form input { flex-grow: 1; padding: 0.6rem; border: 1px solid #ccc; border-radius: 5px 0 0 5px; }
    .search-form button { padding: 0.6rem 1rem; border: 1px solid #ccc; background: #eee; border-left: none; border-radius: 0 5px 5px 0; cursor: pointer; }
    .table-container { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 1rem; text-align: left; border-bottom: 1px solid #eee; }
    th { background-color: #f8f9fa; font-weight: 600; }
    .actions-cell { text-align: center; }
    .action-btn { margin: 0 5px; text-decoration: none; font-size: 1.1rem; }
    .view { color: #007bff; }
    .edit { color: #ffc107; }
    .delete { color: #dc3545; }
    .empty-cell { text-align: center; padding: 2rem; color: #888; }
</style>
{% endblock %}